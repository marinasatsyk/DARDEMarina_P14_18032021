<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: composants/form_create/index.jsx</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: composants/form_create/index.jsx</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>//@ts-check
import React from 'react';
import ManagedInput from '../manageInput';
import { Context } from '../../constants/context';
import { useContext, useState } from 'react';
import { states, departments } from '../../constants/options';
import SingleSelect from '../singleSelect';
import { Modal, useModal } from 'darde_p14_modal_lib';

//function for unify a content of input before send it into the global data
const unifyString = (v) => v.trim().toLowerCase().split(' ').join('');

//VALIDATEION PART
const Validator = {
    name: (n) => n.trim().length > 1,
};
/**
 *Submit form for creation of employees. Send the data in the global state "listEmployees"
 * @returns {React.ReactElement} form submit
 */
const Form = () => {
    //we use the set of global state for populate after submit
    const { setListEmployees } = useContext(Context);
    //local state for one employee
    const [user, setUser] = useState({
        firstName: '',
        lastName: '',
        dateOfBirth: '',
        startDate: '',
        state: 'AL',
        street: '',
        city: '',
        zipCode: '',
        department: 'sales',
    });

    //we use a hook of the  modal library
    const { isModalOpened: isEmployeeCreated, toggle: toggleEmployeeCreated } =
        useModal();

    //add an employee in list of employees for display it in table
    const handleSubmit = (event) => {
        event.preventDefault();
        // setIsFirstNameIsValidate(Validator.name(firstName));
        // setIsLastNameIsValidate(Validator.name(lastName));

        //here you  should to  call an API for do a  fetch request methode put of an employee
        setListEmployees((prevFormData) => {
            const newAr = prevFormData.concat(user);
            return newAr;
        });
        //show the modal page when the form was submited and the the employee was added in global list state
        toggleEmployeeCreated();
    };

    return (
        &lt;>
            &lt;form id="create-employee" onSubmit={(e) => handleSubmit(e)}>
                &lt;div className="title">Create Employee&lt;/div>
                &lt;ManagedInput
                    id="firstName"
                    type="text"
                    name="firstName"
                    value={user.firstName}
                    setValue={setUser}
                    errorMessage="Make sure to enter correct First Name"
                    validateField={Validator.name}
                />
                &lt;ManagedInput
                    id="lastName"
                    type="text"
                    name="lastName"
                    value={user.lastName}
                    setValue={setUser}
                    errorMessage="Make sure to enter correct Last Name"
                    validateField={Validator.name}
                />
                &lt;ManagedInput
                    id="dateOfBirth"
                    type="date"
                    name="dateOfBirth"
                    value={user.dateOfBirth}
                    setValue={setUser}
                />
                &lt;ManagedInput
                    id="startDate"
                    type="date"
                    name="startDate"
                    value={user.startDate}
                    setValue={setUser}
                />

                &lt;fieldset className="address">
                    &lt;legend>Address&lt;/legend>
                    &lt;ManagedInput
                        id="street"
                        type="text"
                        name="street"
                        value={user.street}
                        setValue={setUser}
                        errorMessage="Make sure to enter correct city"
                        validateField={Validator.name}
                    />
                    &lt;ManagedInput
                        id="city"
                        type="text"
                        name="city"
                        value={user.city}
                        setValue={setUser}
                        errorMessage="Make sure to enter correct city"
                        validateField={Validator.name}
                    />

                    {/**elemement for display dropdown select. uses local state user */}
                    &lt;SingleSelect
                        value={user.state}
                        setValue={setUser}
                        options={states}
                        title="State"
                        nameState="state"
                        id="state"
                    />

                    &lt;ManagedInput
                        id="zipCode"
                        type="number"
                        name="zipCode"
                        value={user.zipCode}
                        setValue={setUser}
                        errorMessage="Make sure to enter correct zipCode"
                        validateField={Validator.name}
                    />
                &lt;/fieldset>
                &lt;SingleSelect
                    value={user.department}
                    setValue={setUser}
                    options={departments}
                    title="Department"
                    nameState="department"
                    id="department"
                />

                &lt;button>Save&lt;/button>
            &lt;/form>

            {/* we use component from librairie  darde_p14_modal_lib*/}
            &lt;Modal
                isModalOpened={isEmployeeCreated}
                hide={toggleEmployeeCreated}
                title="Employee Created"
            />
        &lt;/>
    );
};

export default Form;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#App">App</a></li><li><a href="global.html#Create">Create</a></li><li><a href="global.html#DataProvider">DataProvider</a></li><li><a href="global.html#Error">Error</a></li><li><a href="global.html#Form">Form</a></li><li><a href="global.html#ListEmployee">ListEmployee</a></li><li><a href="global.html#ManagedInput">ManagedInput</a></li><li><a href="global.html#SingleSelect">SingleSelect</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a> on Thu Jul 21 2022 19:32:41 GMT+0200 (heure d’été d’Europe centrale)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
